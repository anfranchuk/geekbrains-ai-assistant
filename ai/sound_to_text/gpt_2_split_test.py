from transformers import pipeline

nlp = pipeline("text-generation", model="gpt2")

def split_text_into_paragraphs(text, max_length=100):
    paragraphs = []
    current_paragraph = ""

    for sentence in text.split("."):
        if len(current_paragraph) + len(sentence) <= max_length:
            current_paragraph += sentence + "."
        else:
            paragraphs.append(current_paragraph.strip())
            current_paragraph = sentence + "."

    if current_paragraph:
        paragraphs.append(current_paragraph.strip())

    return paragraphs

input_text = "Что такое подсознание. Психика человека включает в себя сознание и подсознание. Сознание - это то, что мы чувствуем, эмоции, то, чем человек может управлять, что может подавлять или нагнетать по средствам внешнего воздействия. Подсознание - это та часть бессознательного, которая не управляется, но является самой важной частью человеческой психики и основной частью души человека. Подсознание – это темная материя, которая отвечает за инстинкты самосохранения. Бессознательное - это тот автопилот, который приводит нас домой, когда сознание отключается во время чрезмерного употребления алкоголя. Та программа, которая следит за нашей безопасностью, когда мы задумались и уши в себя во время вождения автомобиля, то что привыкли делать каждый день и в моменты, неконтролируемые сознанием. Эта программа работает в условиях более-менее здоровой психики. При схожих кризисных ситуациях психика реагирует одинаково. В тот момент, когда сознание попадает в резко стрессовую среду, оно отключается и вступает в работу подсознание, как некий набор стандартных действий, которые запускаются автоматически и работают до тех пор, пока сознание не начнет действовать автономно. Этот процесс позволяет сохранить здравый рассудок на уровне психики. В стандартную программу подсознания входит изменение активности речевого аппарата (построение фраз изменяется и уменьшается количество используемых слов), поведения и т.д. После окончания автоматического цикла действий подсознания включается память и сознание, но в этом месте подсознание уже повреждено и называется это – душевная травма. В зависимости от тяжести травмы физический возврат в исходную точку происходит с течением времени и называют этот момент простыми словами - «Время лечит». Среднее время самостоятельного восстановления психики 3-4-5 лет, при участии специалистов (психолога) от 1 года."
paragraphs = split_text_into_paragraphs(input_text)
print(paragraphs)

for paragraph in paragraphs:
    generated_paragraph = nlp(paragraph, max_length=100, do_sample=True)[0]["generated_text"]
    print(generated_paragraph.strip())
    print()